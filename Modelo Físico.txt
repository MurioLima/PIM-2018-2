-- Geração de Modelo físico
-- Sql ANSI 2003 - brModelo.



CREATE TABLE Usuario_Cliente_Funcionario (
Cod_Cliente VARCHAR(50),
Senha_usuario VARCHAR(50),
Acesso_cliente VARCHAR(50),
Login_usuario VARCHAR(50),
Nivel_usuario VARCHAR(50),
Email_Cliente VARCHAR(50),
id_usuario VARCHAR(50),
Nome_usuario VARCHAR(50),
Cod_funcionario VARCHAR(50),
Nom_Fantasia VARCHAR(50),
End_completo VARCHAR(50),
CPF VARCHAR(50),
CNPJ VARCHAR(50),
Email_Contato VARCHAR(50),
Status VARCHAR(50),
-- Erro: nome do campo duplicado nesta tabela!
Cod_Cliente VARCHAR(10),
Tel_Cel VARCHAR(50),
Tel_Fix VARCHAR(50),
Raz_Social VARCHAR(50),
Cod_identificacao VARCHAR(50),
-- Erro: nome do campo duplicado nesta tabela!
CPF VARCHAR(50),
Tel_Fixo VARCHAR(50),
Tel_Celular VARCHAR(50),
-- Erro: nome do campo duplicado nesta tabela!
Status VARCHAR(50),
-- Erro: nome do campo duplicado nesta tabela!
End_Completo VARCHAR(50),
CPF1 VARCHAR(50),
-- Erro: nome do campo duplicado nesta tabela!
Cod_Identificacao VARCHAR(50),
Nome_completo VARCHAR(50),
Nome_Tratamento VARCHAR(50),
PRIMARY KEY(id_usuario,Cod_identificacao,Cod_Identificacao)
)

CREATE TABLE Produto (
Cod_Produto VARCHAR(10) PRIMARY KEY,
Desc_Produto VARCHAR(50),
id_usuario VARCHAR(10),
Cod_identificacao VARCHAR(10),
-- Erro: nome do campo duplicado nesta tabela!
Cod_Identificacao VARCHAR(10),
Cod_Atendimento VARCHAR(10),
Id_Status VARCHAR(10),
FOREIGN KEY(Cod_Identificacao,,,) REFERENCES Usuario_Cliente_Funcionario (id_usuario,Cod_identificacao,Cod_Identificacao)
)

CREATE TABLE Tipo_Atendimento+Status_Atendimento (
Cod_Atendimento VARCHAR(50),
Prioridade VARCHAR(50),
Descricao VARCHAR(100),
Em_Atendiment VARCHAR(10),
Id_Status VARCHAR(10),
Recebido VARCHAR(50),
Aguard_Posicionament VARCHAR(50),
Encerrado VARCHAR(50),
PRIMARY KEY(Cod_Atendimento,Id_Status)
)

ALTER TABLE Produto ADD FOREIGN KEY(Id_Status,,) REFERENCES Tipo_Atendimento+Status_Atendimento (Cod_Atendimento,Id_Status)
